/**
 * jQuery Render Preview Plugin
 * http://github.com/mmayernick/jquery-render-preview
 */

(function(a,b,c){function d(b,c,d){this.$el=a(b);this.$target=a(c);this.defaults={paragraphRegExp:new RegExp("(.*)\n\n([^#*\n\n].*)","g"),lineBreakRegExp:new RegExp("(.*)\n([^#*\n].*)","g"),allowedTags:["a","b","img","strong","blockquote","p","i","em","u","strike","super","sub","code","span"]};this.opts=a.extend(this.defaults,d);this.$el.data("render-preview",this);this.init()}"use strict";d.prototype.init=function(){var b=this;b.$el.live("input propertychange",function(c){var d=b.sanatize(a(this).val());a(b.$target).html(d)})};d.prototype.sanitize=function(a){var b=new RegExp("<(/?("+this.opts.allowedTags.join("|")+")(\\s+.*?)?)>","ig");if(a.length>0){a=a.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">");a=a.replace(this.opts.paragraphRegExp,"<p>$1</p><p>$2</p>");a=a.replace(this.opts.lineBreakRegExp,"$1<br />$2");a=a.replace(b,"<$1>");if(typeof this.opts.processor=="function"){a=this.opts.processor(a)}}return a};a.fn.renderPreview=function(a,b){return this.each(function(){new d(this,a,b)})}})(jQuery,document,window)(function(a,b,c){function d(b,c,d){this.$el=a(b);this.$target=a(c);this.defaults={paragraphRegExp:new RegExp("(.*)\n\n([^#*\n\n].*)","g"),lineBreakRegExp:new RegExp("(.*)\n([^#*\n].*)","g"),allowedTags:["a","b","img","strong","blockquote","p","i","em","u","strike","super","sub","code","span"]};this.opts=a.extend(this.defaults,d);this.$el.data("render-preview",this);this.init()}"use strict";d.prototype.init=function(){var b=this;b.$el.live("input propertychange",function(c){var d=b.sanitize(a(this).val());a(b.$target).html(d)})};d.prototype.sanitize=function(a){var b=new RegExp("<(/?("+this.opts.allowedTags.join("|")+")(\\s+.*?)?)>","ig");if(a.length>0){a=a.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">");a=a.replace(this.opts.paragraphRegExp,"<p>$1</p><p>$2</p>");a=a.replace(this.opts.lineBreakRegExp,"$1<br />$2");a=a.replace(b,"<$1>");if(typeof this.opts.processor=="function"){a=this.opts.processor(a)}}return a};a.fn.renderPreview=function(a,b){return this.each(function(){new d(this,a,b)})}})(jQuery,document,window)